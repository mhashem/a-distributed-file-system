<?xml version="1.0" encoding="UTF-8"?>

<!-- Spring Beans Configuration -->

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

			<!-- Spring Beans Definition -->
	
	 		<bean id="receiveFile" class="net.dfs.remote.filestorage.impl.FileReceiverImpl" >
				<property name="spaceCreator" ref ="spaceCreator" />
				<property name="addressCreator" ref ="addressCreator" />
				<property name="storeFile" ref ="storeFile" />
			</bean>
		
			<bean id="storeFile" class="net.dfs.remote.filestorage.impl.StoreFileImpl" >
				<property name="hashTable" ref ="hashtable" />
			</bean>

		
			<bean id="spaceCreator" class="org.springframework.remoting.rmi.RmiProxyFactoryBean" >
 			   	<property name="serviceUrl" value="rmi://192.168.2.2:8989/FileSpaceCreator"/>
				<property name="serviceInterface" value="net.dfs.server.filespace.creator.FileSpaceCreator"/>
 			</bean>
 
			<bean id="hashtable" class="org.springframework.remoting.rmi.RmiProxyFactoryBean" >
			   	<property name="serviceUrl" value="rmi://192.168.2.2:8989/MapFile" />
 				<property name="serviceInterface" value="net.dfs.server.filemapper.MapFile"/>
 			</bean>
 
			<bean id="addressCreator" class="org.springframework.remoting.rmi.RmiProxyFactoryBean" >
			   	<property name="serviceUrl" value="rmi://192.168.2.2:8989/HostAddressCreator" />
  				<property name="serviceInterface" value="net.dfs.server.filespace.creator.HostAddressCreator"/>
			</bean>
 
</beans>
		