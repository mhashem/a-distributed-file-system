<?xml version="1.0" encoding="UTF-8"?>

<!-- Spring Beans Configuration -->

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

			<!-- Spring Beans Definition -->
			
			<bean id="splitfile" class="net.dfs.server.filesplitter.impl.SplitFileImpl" >
				<property name="fileName" value="C:\\Done.txt" />
				<property name="fileSpace" ref ="filespace" />
				<property name="fileCreator" ref ="filecreator" />
			</bean>

			<bean class="org.springframework.remoting.rmi.RmiServiceExporter">
				<property name="serviceName" value="SpaceHost" /> 
				<property name="service" ref ="host" />
 				<property name="serviceInterface" value="net.dfs.server.filespace.creator.SpaceHost"/>
				<property name="registryPort" value="8989"/>		
			</bean>

			<bean class="org.springframework.remoting.rmi.RmiServiceExporter">
				<property name="serviceName" value="SpaceAccessor" /> 
				<property name="service" ref ="spaceAccessor" />
				<property name="serviceInterface" value="net.dfs.server.filespace.creator.SpaceAccessor"/>
 				<property name="registryPort" value="8989"/>		
			</bean>

			<bean class="org.springframework.remoting.rmi.RmiServiceExporter">
				<property name="serviceName" value="MapFile" /> 
				<property name="service" ref ="hashtable" />
 				<property name="serviceInterface" value="net.dfs.server.filemapper.MapFile"/>
				<property name="registryPort" value="8989"/>		
			</bean>
			





			<bean id="filespace" class="net.dfs.server.filespace.creator.impl.FileSpaceImpl" >
				<property name="spaceHost" ref ="host" />
				<property name="lookup" ref ="spaceAccessor" />
			</bean>

			<bean id="spaceAccessor" class="net.dfs.server.filespace.creator.impl.SpaceAccessorImpl" >
				<property name="security" ref ="security" />
 			</bean>

			<bean id="filecreator" class="net.dfs.server.filemodel.FileCreator" />

			<bean id="security" class="net.dfs.server.filespace.creator.impl.SecurityManagerImpl" />

			<bean id="hashtable" class="net.dfs.server.filemapper.impl.MapFileImpl" >
 			</bean>

			<bean id="host" class="net.dfs.server.filespace.creator.impl.SpaceHostImpl" >
 			</bean>

</beans>
		